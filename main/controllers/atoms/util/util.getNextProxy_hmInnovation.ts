import { HttpsProxyAgent } from "https-proxy-agent";

const ipList = [
  "49.254.174.71:13959,",
  "115.144.84.142:14772,",
  "124.198.12.86:19804,",
  "115.144.120.76:13052",
  "124.198.14.4:20280",
  "124.198.12.87:12958",
  "125.7.182.53:16217",
  "115.144.199.149:21605",
  "115.144.94.36:20993",
  "49.254.173.139:28851",
  "49.254.47.189:12057",
  "115.144.165.134:28921",
  "49.254.166.182:11477",
  "49.254.174.70:14069",
  "115.144.84.140:19406",
  "183.78.137.203:25488",
  "124.198.12.85:10207",
  "49.254.75.31:22676",
  "49.254.174.68:14584",
  "202.126.113.154:11759",
  "124.198.14.6:26656",
  "125.7.182.52:25648",
  "202.126.113.152:15896",
  "124.198.68.199:11479",
  "49.254.109.111:11145",
  "49.254.109.109:12608",
  "202.126.116.118:14637",
  "49.254.47.188:20297",
  "121.126.51.183:10066",
  "202.126.116.117:10106",
  "115.144.199.151:21618",
  "124.198.14.7:12892",
  "115.144.165.135:16445",
  "49.254.75.29:22264",
  "121.126.247.15:11946",
  "115.144.120.79:12259",
  "203.109.8.74:20470",
  "115.144.94.38:10208",
  "124.198.53.35:24055",
  "115.144.165.133:16445",
  "49.254.173.138:22592",
  "49.254.166.183:20126",
  "49.254.166.180:15981",
  "124.198.53.33:26017",
  "49.254.173.137:24125",
  "124.198.68.197:25725",
  "49.254.38.23:19571",
  "124.198.53.34:20926",
  "49.254.38.20:17646",
  "115.144.84.143:17557",
  "115.144.120.77:27086",
  "115.144.84.141:19578",
  "121.126.183.247:17559",
  "183.78.137.202:10181",
  "125.7.181.65:23079",
  "202.126.113.155:29701",
  "202.126.116.116:25844",
  "124.198.14.5:28586",
  "115.144.94.37:23135",
  "203.109.8.73:26220",
  "121.126.247.14:16358",
  "124.198.68.196:15274",
  "121.126.183.246:18860",
  "115.144.199.148:29523",
  "125.7.181.64:16067",
  "121.126.183.244:12053",
  "125.7.182.55:25690",
  "203.109.8.72:28631",
  "49.254.38.21:11710",
  "115.144.120.78:19617",
  "124.198.12.84:14522",
  "183.78.137.200:19850",
  "121.126.51.182:26807",
  "125.7.181.66:29647",
  "121.126.247.13:25386",
  "49.254.173.136:12077",
  "124.198.68.198:25448",
  "49.254.174.69:20064",
  "202.126.116.119:24298",
  "115.144.199.150:24000",
  "203.109.8.75:26765",
  "183.78.137.201:15278",
  "49.254.75.30:13436",
  "121.126.247.12:17422",
  "124.198.53.32:28766",
  "121.126.183.245:25900",
  "49.254.109.110:10233",
  "49.254.109.108:28739",
  "115.144.94.39:19067",
  "125.7.181.67:15558",
  "202.126.113.153:14126",
  "49.254.47.190:19621",
  "49.254.38.22:12088",
  "115.144.165.132:24649",
  "121.126.51.180:18489",
  "49.254.47.191:29781",
  "125.7.182.54:28050",
  "49.254.166.181:28714",
  "121.126.51.181:27246",
  "49.254.75.28:29305",
];

let currentIndex = 0;

export function utilGetNextProxy_hmInnovation() {
  const [host, port] = ipList[currentIndex].split(":");

  currentIndex = (currentIndex + 1) % ipList.length;

  const proxyUrl = `http://${host}:${port}`;

  const proxyAgent = new HttpsProxyAgent(proxyUrl);

  return proxyAgent;
}

export function utilGetNextProxyForPlaywright_hmInnovation({ isProxy }) {
  if (!isProxy) return;
  const [host, port] = ipList[currentIndex].split(":");

  currentIndex = (currentIndex + 1) % ipList.length;

  return {
    server: `http://${host}:${port}`,
    // 필요한 경우 인증 정보 추가
    // username: 'username',
    // password: 'password',
  };
}
